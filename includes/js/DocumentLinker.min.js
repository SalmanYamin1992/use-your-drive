jQuery(document).ready(function(e){"use strict";function t(t){var n=e("form").data("callback");window.parent[n](t)}function n(n){var a=e(".UseyourDrive.files").attr("data-token"),o=e(".UseyourDrive[data-token='"+a+"']").attr("data-path"),r=i(".UseyourDrive[data-token='"+a+"'] input[name='selected-files[]']"),l=e(".UseyourDrive.files").attr("data-account-id");return 0===r.length&&t(""),e.ajax({type:"POST",url:UseyourDrive_vars.ajax_url,data:{action:"useyourdrive-create-link",account_id:l,listtoken:a,lastpath:o,entries:r,_ajax_nonce:UseyourDrive_vars.createlink_nonce},beforeSend:function(){e(".UseyourDrive .loading").height(e(".UseyourDrive .ajax-filelist").height()),e(".UseyourDrive .loading").fadeTo(400,.8),e(".UseyourDrive .insert_links").attr("disabled","disabled")},complete:function(){e(".UseyourDrive .loading").fadeOut(400),e(".UseyourDrive .insert_links").removeAttr("disabled")},success:function(i){if(null!==i&&null!==i.links&&i.links.length>0){var a="";e.each(i.links,function(e,t){"download"===n&&(t.link="https://drive.google.com/uc?export=download&id="+t.id),a+='<a class="UseyourDrive-directlink" href="'+t.link+'" target="_blank">'+t.name+"</a><br/>"}),t(a)}},dataType:"json"}),!1}function i(t){var n=e(t+":checked").map(function(){return this.value}).get();return n}var a=e("#do_link");a.on("click",function(e){e.stopPropagation()}),e("li.link-item").on("click",function(t){t.stopPropagation();var i=e(this).find("a").data("type");n(i)}),tippy(a.get(0),{trigger:"click",content:a.next(".tippy-content-holder").get(0),maxWidth:350,allowHTML:!0,placement:"top-end",moveTransition:"transform 0.2s ease-out",interactive:!0,theme:"wpcloudplugins-light",onShow:function(t){e(t.popper).find(".tippy-content-holder").removeClass("tippy-content-holder")}})});