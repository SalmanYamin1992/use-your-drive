jQuery(document).ready(function(e){"use strict";function r(r){var t=e("form").data("callback");window.parent[t](r)}function t(){var t=e(".UseyourDrive.files").attr("data-token"),i=e(".UseyourDrive[data-token='"+t+"']").attr("data-path"),n=a(".UseyourDrive[data-token='"+t+"'] input[name='selected-files[]']"),o=e(".UseyourDrive.files").attr("data-account-id");return 0===n.length&&r(""),e.ajax({type:"POST",url:UseyourDrive_vars.ajax_url,data:{action:"useyourdrive-embedded",account_id:o,listtoken:t,lastpath:i,entries:n,_ajax_nonce:UseyourDrive_vars.createlink_nonce},beforeSend:function(){e(".UseyourDrive .loading").height(e(".UseyourDrive .ajax-filelist").height()),e(".UseyourDrive .loading").fadeTo(400,.8),e(".UseyourDrive .insert_links").attr("disabled","disabled")},complete:function(){e(".UseyourDrive .loading").fadeOut(400),e(".UseyourDrive .insert_links").removeAttr("disabled")},success:function(t){if(null!==t&&null!==t.links&&t.links.length>0){var a="";e.each(t.links,function(e,r){"iframe"===r.type?a+='<iframe src="'+r.embeddedlink+'" height="480" style="width:100%;" frameborder="0" scrolling="no" class="uyd-embedded" allowfullscreen></iframe>':"image"===r.type&&(a+='<img src="'+r.embeddedlink+'">')}),r(a)}},dataType:"json"}),!1}function a(r){var t=e(r+":checked").map(function(){return this.value}).get();return t}e("#do_embed").on("click",t)});